"use strict";(self.webpackChunkd3=self.webpackChunkd3||[]).push([[425],{425:function(t,e,n){n.r(e),n.d(e,{default:function(){return y}});var r=n(3433),i=n(9439),u=n(2791),a=n(184);function l(){return(0,a.jsx)("circle",{cx:"16",cy:"16",r:"4",fill:"rgb(126, 164, 248)"})}function c(){return(0,a.jsxs)("g",{children:[(0,a.jsx)("rect",{y:"0",type:"h",fill:"rgb(216, 211, 231)",width:"32",height:"32"}),(0,a.jsx)("text",{x:"14.21875",y:"21.5",fill:"#ffffff",children:"I"})]})}function s(){return(0,a.jsxs)("g",{children:[(0,a.jsx)("rect",{y:"0",type:"h",fill:"rgb(226, 106, 84)",width:"32",height:"32"}),(0,a.jsx)("text",{x:"4.21875",y:"21.5",fill:"#ffffff",children:"PVZ"})]})}function f(){return(0,a.jsxs)("g",{children:[(0,a.jsx)("rect",{y:"0",type:"h",fill:"rgb(96, 199, 175)",width:"32",height:"32"}),(0,a.jsx)("text",{x:"8.21875",y:"21.5",fill:"#ffffff",children:"VZ"})]})}function h(){return(0,a.jsxs)("g",{children:[(0,a.jsx)("rect",{y:"0",type:"h",fill:"rgb(80, 161, 226)",width:"32",height:"32"}),(0,a.jsx)("text",{x:"12.21875",y:"21.5",fill:"balck",children:"Y"})]})}function o(t){var e=t.name;var n=function(t){var e=t.charCodeAt(0);return"rgb("+43*e%256+", "+67*e%256+", "+97*e%256+")"}(e);return(0,a.jsxs)("g",{children:[(0,a.jsx)("rect",{y:"0",type:"h",fill:n,width:"32",height:"32"}),(0,a.jsx)("text",{textAnchor:"middle",alignmentBaseline:"middle",width:"32",height:"32",x:"14.21875",y:"18",fill:"#ffffff",children:e})]})}function d(t){var e,n,r=t.gate;return(0,a.jsxs)("g",{children:[r&&(null===(e=r.qubit)||void 0===e?void 0:e.map((function(t,e){return(0,a.jsx)("g",{transform:"translate(0,".concat(40*t+24,")"),children:function(){switch(r.name){case"cz":return(0,a.jsx)(l,{});case"i":return(0,a.jsx)(c,{});case"pvz":return(0,a.jsx)(s,{});case"vz":return(0,a.jsx)(f,{});case"y":return(0,a.jsx)(h,{});default:return(0,a.jsx)(o,{name:null===r||void 0===r?void 0:r.name})}}()},e)}))),(null===(n=r.qubit)||void 0===n?void 0:n.length)>1&&(0,a.jsx)("line",{strokeWidth:"2",stroke:"rgb(126, 164, 248)",x1:16,x2:16,y1:40*r.qubit[0]+40,y2:40*r.qubit[1]+40})]})}function x(t){var e=t.x,n=t.item;t.qubitLineArry;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("g",{transform:"translate(".concat(45*e+95,")"),children:null===n||void 0===n?void 0:n.map((function(t,r){return(0,a.jsx)(d,{name:n.name,x:e,gate:t,y:r},r)}))})})}var g=n(5447),m=n(5499),b=n(5602);function v(t){return JSON.parse(JSON.stringify(t))}function j(t){for(var e,n,r=[],i=[],u=0,a=0;0!==t.length;){u=-1,a=-1;var l=[];i=[];for(var c=0;c<t.length;c++){var s;1==(null===(s=t[c].qubit)||void 0===s?void 0:s.length)?(e=t[c].qubit[0],n=t[c].qubit[0]):(e=t[c].qubit[0],n=t[c].qubit[1]),-1==u?(u=e,a=n,i.push(v(t[c]))):n>=u&&a>=e?l.push(v(t[c])):(i.push(v(t[c])),u=Math.min(u,e),a=Math.max(a,n))}t=l,r.push(v(i))}return r}function p(t){for(var e=t.index,n=(t.item,t.qubitLineArry),r=t.delCurcuitLenght,i=0,u=0;u<e+1;u++)i+=r[u];return(0,a.jsxs)("g",{transform:"translate(".concat(45*i-45+30,")"),children:[(0,a.jsx)("rect",{fill:"rgb(215, 215, 215)",width:5,height:40*n.length,y:"30",x:"100"}),(0,a.jsx)("text",{x:e>9?94:99,y:"21.5",fill:"green",children:e}),(0,a.jsx)("line",{x1:102.5,x2:102.5,y1:30,y2:40*n.length,strokeDasharray:"4",stroke:"rgb(45, 45, 45)"})]})}function y(){for(var t=(0,u.useRef)(),e=(0,u.useState)([[{name:"cz",qubit:[3,4]},{name:"cz",qubit:[5,6]},{name:"i",qubit:[7]},{name:"pvz",qubit:[0]}],[{name:"cz",qubit:[0,1]},{name:"cz",qubit:[2,3]},{name:"i",qubit:[4]},{name:"i",qubit:[5]},{name:"cz",qubit:[6,7]},{name:"cz",qubit:[8,15]},{name:"cz",qubit:[16,17]},{name:"cz",qubit:[9,14]},{name:"cz",qubit:[10,11]},{name:"cz",qubit:[12,13]}],[{name:"cz",qubit:[3,4]},{name:"y",qubit:[7]}],[{name:"cz",qubit:[3,4]},{name:"pvz",qubit:[7]}],[{name:"pvz",qubit:[1]}],[{name:"pvz",qubit:[2]}],[{name:"pvz",qubit:[3]}],[{name:"pvz",qubit:[4]}],[{name:"pvz",qubit:[5]}],[{name:"pvz",qubit:[6]}],[{name:"pvz",qubit:[7]}],[{name:"pvz",qubit:[8]}]]),n=(0,i.Z)(e,2),l=n[0],c=n[1],s=l.map((function(t){return(0,r.Z)(t)})),f=[],h=0;h<l.length;h++)f.push(j(l[h]));for(var o=[],d=0;d<f.length;d++)o.push(f[d].length);for(var v=[],y=0;y<f.length;y++)if(f[y].length>=1)for(var q=0;q<f[y].length;q++)v.push(f[y][q]);for(var z=function(t){return t.reduce((function(t,e){var n=e.reduce((function(t,e){return Math.max.apply(Math,[t].concat((0,r.Z)(e.qubit||[])))}),0);return Math.max(n,t)}),0)}(s),k=[],w=0;w<=z;w++)k.push(w);var C=150*l.length+300>1e3?150*l.length+300:1e3;!(150*l.length+300>1e3)||l.length,!(150*l.length+300>1e3)||l.length;var Z=40*k.length+300>600?40*k.length+300:600,A=(0,u.useState)(null),L=(0,i.Z)(A,2),N=L[0],S=L[1];(0,u.useEffect)((function(){null!==N&&void 0!==N&&N.length&&c(N)}),[N]);return(0,a.jsxs)("div",{style:{background:"#fff",overflowX:"scroll",overflowY:"scroll"},children:[(0,a.jsxs)("div",{style:{marginTop:20,marginLeft:20},className:"uploding",children:[(0,a.jsx)("input",{ref:t,style:{display:"none"},onChange:function(t){var e=new FileReader;e.onload=function(){try{var t=JSON.parse(e.result);S(t)}catch(n){g.ZP.error(n)}},e.readAsText(t.target.files[0])},type:"file",accept:".json"}),(0,a.jsx)(m.Z,{onClick:function(){t.current.click()},style:{marginTop:20},children:"\u5bfc\u5165\u6570\u636e(json)"}),(0,a.jsx)(m.Z,{onClick:function(){(0,b.ZP)(document.getElementById("circuit"))},style:{marginTop:20,marginLeft:10},children:"\u5bfc\u51fa\u56fe\u7247"})]}),(0,a.jsx)("div",{style:{background:"#fff",width:C,height:Z,marginTop:50},className:"svgConten",children:(0,a.jsxs)("svg",{style:{backgroundColor:"#fff"},id:"circuit",width:C,height:Z,children:[k.map((function(t,e){return(0,a.jsxs)("g",{transform:"translate(60,".concat(20+40*e?40*e:0,")"),children:[(0,a.jsx)("g",{transform:"translate(-14,4)",children:(0,a.jsx)("text",{x:"38.4",y:"36",dy:".3em",fill:"rgb(111, 111, 111)",fontWeight:"400",textAnchor:"end",fontSize:"14px",children:(0,a.jsxs)("tspan",{children:["q[",e,"]"]})})}),(0,a.jsx)("line",{className:"qubit",strokeWidth:"2",x1:"30",y1:"40",x2:C-80,y2:"40","data-dis":"0",stroke:"black"})]},e)})),v.map((function(t,e){return(0,a.jsx)(x,{qubitLineArry:k,x:e,item:t},e)})),o.map((function(t,e){return(0,a.jsx)(p,{item:t,index:e,qubitLineArry:k,delCurcuitLenght:o},e)}))]})})]})}}}]);
//# sourceMappingURL=425.1b918e7d.chunk.js.map