"use strict";(self.webpackChunkd3=self.webpackChunkd3||[]).push([[771],{771:function(t,e,n){n.r(e),n.d(e,{default:function(){return Z}});var r=n(3433),i=n(9439),l=n(2791),a=n(4059),c=n(5499),u=n(9992),s=n(5602);function o(t){return JSON.parse(JSON.stringify(t))}function h(t){for(var e,n,r=[],i=[],l=0,a=0;0!==t.length;){l=-1,a=-1;var c=[];i=[];for(var u=0;u<t.length;u++)t[u].qubit.sort((function(t,e){return t-e})),1==t[u].qubit.length?(e=t[u].qubit[0],n=t[u].qubit[0]):(e=t[u].qubit[0],n=t[u].qubit[t[u].qubit.length-1]),-1==l?(l=e,a=n,i.push(o(t[u]))):n>=l&&a>=e?c.push(o(t[u])):(i.push(o(t[u])),l=Math.min(l,e),a=Math.max(a,n));t=c,r.push(o(i))}return r.sort((function(t,e){for(var n=-1,r=-1,i=0;i<t.length;i++)n=Math.max(t[i].qubit.length,n);for(var l=0;l<e.length;l++)r=Math.max(e[l].qubit.length,r);return r-n})),r}var f=n(184);function d(t){var e=t.color;return(0,f.jsx)("circle",{cx:"16",cy:"16",r:"4",fill:e||"rgb(126, 164, 248)",stroke:"black",strokeWidth:"1"})}function x(t){var e,n,i=t.gate,l=Math.min.apply(Math,(0,r.Z)(null===i||void 0===i?void 0:i.qubit)),a=Math.max.apply(Math,(0,r.Z)(null===i||void 0===i?void 0:i.qubit));return(0,f.jsxs)("g",{children:[(null===(e=i.qubit)||void 0===e?void 0:e.length)>1&&(0,f.jsx)("line",{strokeWidth:"1",stroke:"rgb(31, 161, 206)",x1:16,x2:16,y1:20*l+40,y2:20*a+40}),null===(n=i.qubit)||void 0===n?void 0:n.map((function(t,e){return(0,f.jsx)("g",{transform:"translate(0,".concat(20*t+24,")"),children:(0,f.jsx)(d,{color:i.qubit.length>1?"yellow":"red"})},e)}))]})}function g(t){var e=t.x,n=t.item;return(0,f.jsx)("g",{children:(0,f.jsx)("g",{transform:"translate(".concat(20*e+95,")"),children:null===n||void 0===n?void 0:n.map((function(t,r){return(0,f.jsx)(x,{name:n.name,x:e,gate:t,y:r},r)}))})})}function m(){return(0,f.jsxs)("g",{children:[(0,f.jsx)("rect",{x:"8",y:"16",width:23,height:17,fill:"#fff"}),(0,f.jsx)("path",{d:"M8, 30A10 10 90 1 1 30 30M19, 30",strokeWidth:"1",stroke:"black",fill:"none"}),(0,f.jsx)("circle",{r:"2.5",cx:"19",cy:"28",fill:"black"}),(0,f.jsx)("line",{x1:"19",y1:"28",x2:"28",y2:"15",strokeWidth:"1",stroke:"black"})]})}function b(t){for(var e=t.index,n=(t.item,t.qubitLineArry),r=t.delCurcuitLenght,i=0,l=0;l<e+1;l++)i+=r[l];return(0,f.jsx)("g",{children:(0,f.jsxs)("g",{transform:"translate(".concat(20*i-20+20,")"),children:[(0,f.jsx)("rect",{fill:"rgb(215, 215, 215)",width:3,height:20*n.length,y:"30",x:"100"}),(0,f.jsx)("g",{transform:"translate(".concat(10*-r[e],")"),children:(0,f.jsx)("text",{fontSize:12,x:e>8?94:99,y:"21.5",fill:"green",children:e+1})}),(0,f.jsx)("line",{x1:102,x2:102,y1:30,y2:22*n.length,strokeDasharray:"4",stroke:"rgb(45, 45, 45)"})]})})}function j(t){t.circuit;var e=t.qubitLineArry,n=t.delCircuit1,r=t.delCurcuitLenght,i=20*n.length+230,l=20*e.length+230;return(0,f.jsx)("div",{style:{marginLeft:50},children:(0,f.jsxs)("svg",{width:i,height:l,style:{backgroundColor:"#fff"},id:"circuit",children:[e.map((function(t,e){return(0,f.jsxs)("g",{transform:"translate(60,".concat(20+20*e?20*e:0,")"),children:[(0,f.jsx)("g",{transform:"translate(-14,4)",children:(0,f.jsx)("text",{x:"38.4",y:"36",dy:".3em",fill:"rgb(111, 111, 111)",fontWeight:"400",textAnchor:"end",fontSize:"14px",children:(0,f.jsxs)("tspan",{children:["q[",e,"]"]})})}),(0,f.jsx)("line",{className:"qubit",strokeWidth:"1",x1:"30",y1:"40",x2:i-120,y2:"40","data-dis":"0",stroke:"black"})]},e)})),e.map((function(t,e){return(0,f.jsx)("g",{transform:"translate(".concat(20*n.length+100,",").concat(20+20*e?20*e+17:0,")"),children:(0,f.jsx)(m,{})})})),n.map((function(t,n){return(0,f.jsx)(g,{qubitLineArry:e,x:n,item:t},n)})),r.map((function(t,n){return(0,f.jsx)(b,{item:t,index:n,qubitLineArry:e,delCurcuitLenght:r},n)}))]})})}var y=[[{name:"cz",qubit:[3,4,5,6,7]},{name:"cz",qubit:[5,6]},{name:"i",qubit:[7]},{name:"pvz",qubit:[0]}],[{name:"cz",qubit:[0,1]},{name:"cz",qubit:[2,3,4,5]},{name:"i",qubit:[4]},{name:"i",qubit:[5]},{name:"cz",qubit:[6,7,8,9]},{name:"cz",qubit:[8,9,10,11,12,13,14,15]},{name:"cz",qubit:[16,17]},{name:"cz",qubit:[9,14]},{name:"cz",qubit:[10,11]},{name:"cz",qubit:[12,13]}],[{name:"cz",qubit:[3,4,5]},{name:"y",qubit:[7]}],[{name:"cz",qubit:[3,4]},{name:"pvz",qubit:[7]}],[{name:"pvz",qubit:[1]}],[{name:"pvz",qubit:[2]}],[{name:"pvz",qubit:[3]}],[{name:"pvz",qubit:[4]}],[{name:"pvz",qubit:[5]}],[{name:"pvz",qubit:[6]}],[{name:"pvz",qubit:[7]}],[{name:"pvz",qubit:[8]}]];function v(t){var e=t.color;return(0,f.jsx)("circle",{cx:"16",cy:"16",r:"4",fill:e||"rgb(126, 164, 248)"})}function p(){return(0,f.jsxs)("g",{children:[(0,f.jsx)("rect",{y:"0",type:"h",fill:"rgb(216, 211, 231)",width:"32",height:"32"}),(0,f.jsx)("text",{x:"14.21875",y:"21.5",fill:"#ffffff",children:"I"})]})}function q(){return(0,f.jsxs)("g",{children:[(0,f.jsx)("rect",{y:"0",type:"h",fill:"rgb(226, 106, 84)",width:"32",height:"32"}),(0,f.jsx)("text",{x:"4.21875",y:"21.5",fill:"#ffffff",children:"PVZ"})]})}function k(){return(0,f.jsxs)("g",{children:[(0,f.jsx)("rect",{y:"0",type:"h",fill:"rgb(96, 199, 175)",width:"32",height:"32"}),(0,f.jsx)("text",{x:"8.21875",y:"21.5",fill:"#ffffff",children:"VZ"})]})}function z(){return(0,f.jsxs)("g",{children:[(0,f.jsx)("rect",{y:"0",type:"h",fill:"rgb(80, 161, 226)",width:"32",height:"32"}),(0,f.jsx)("text",{x:"12.21875",y:"21.5",fill:"balck",children:"Y"})]})}function L(t){var e=t.name;var n=function(t){var e=t.charCodeAt(0);return"rgb("+43*e%256+", "+67*e%256+", "+97*e%256+")"}(e);return(0,f.jsxs)("g",{children:[(0,f.jsx)("rect",{y:"0",type:"h",fill:n,width:"32",height:"32"}),(0,f.jsx)("text",{textAnchor:"middle",alignmentBaseline:"middle",width:"32",height:"32",x:"14.21875",y:"18",fill:"#ffffff",children:e})]})}function C(t){var e,n,i=t.gate,l=Math.min.apply(Math,(0,r.Z)(null===i||void 0===i?void 0:i.qubit)),a=Math.max.apply(Math,(0,r.Z)(null===i||void 0===i?void 0:i.qubit));return(0,f.jsxs)("g",{children:[i&&(null===(e=i.qubit)||void 0===e?void 0:e.map((function(t,e){return(0,f.jsx)("g",{transform:"translate(0,".concat(40*t+24,")"),children:function(){switch(i.name){case"cz":return(0,f.jsx)(v,{});case"i":return(0,f.jsx)(p,{});case"pvz":return(0,f.jsx)(q,{});case"vz":return(0,f.jsx)(k,{});case"y":return(0,f.jsx)(z,{});default:return(0,f.jsx)(L,{name:null===i||void 0===i?void 0:i.name})}}()},e)}))),(null===(n=i.qubit)||void 0===n?void 0:n.length)>1&&(0,f.jsx)("line",{strokeWidth:"2",stroke:"rgb(126, 164, 248)",x1:16,x2:16,y1:40*l+40,y2:40*a+40})]})}function w(t){var e=t.x,n=t.item;t.qubitLineArry;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("g",{transform:"translate(".concat(45*e+95,")"),children:null===n||void 0===n?void 0:n.map((function(t,r){return(0,f.jsx)(C,{name:n.name,x:e,gate:t,y:r},r)}))})})}function A(t){for(var e=t.index,n=(t.item,t.qubitLineArry),r=t.delCurcuitLenght,i=0,l=0;l<e+1;l++)i+=r[l];return(0,f.jsxs)("g",{transform:"translate(".concat(45*i-45+30,")"),children:[(0,f.jsx)("rect",{fill:"rgb(215, 215, 215)",width:5,height:40*n.length,y:"30",x:"100"}),(0,f.jsx)("g",{transform:"translate(".concat(20*-r[e],")"),children:(0,f.jsx)("text",{fontSize:12,x:e>8?94:99,y:"21.5",fill:"green",children:e+1})}),(0,f.jsx)("line",{x1:102.5,x2:102.5,y1:30,y2:40*n.length,strokeDasharray:"4",stroke:"rgb(45, 45, 45)"})]})}function M(t){t.circuit;var e=t.qubitLineArry,n=t.delCircuit1,r=t.delCurcuitLenght,i=50*n.length+200,l=60*e.length+200;return(0,f.jsx)("div",{children:(0,f.jsxs)("svg",{style:{backgroundColor:"#fff"},id:"delCircuit1",width:i,height:l,children:[e.map((function(t,e){return(0,f.jsxs)("g",{transform:"translate(60,".concat(20+40*e?40*e:0,")"),children:[(0,f.jsx)("g",{transform:"translate(-14,4)",children:(0,f.jsx)("text",{x:"38.4",y:"36",dy:".3em",fill:"rgb(111, 111, 111)",fontWeight:"400",textAnchor:"end",fontSize:"14px",children:(0,f.jsxs)("tspan",{children:["q[",e,"]"]})})}),(0,f.jsx)("line",{className:"qubit",strokeWidth:"2",x1:"30",y1:"40",x2:i-160,y2:"40","data-dis":"0",stroke:"black"})]},e)})),n.map((function(t,n){return(0,f.jsx)(w,{qubitLineArry:e,x:n,item:t},n)})),r.map((function(t,n){return(0,f.jsx)(A,{item:t,index:n,qubitLineArry:e,delCurcuitLenght:r},n)}))]})})}function Z(){for(var t=(0,l.useRef)(),e=(0,l.useState)(y),n=(0,i.Z)(e,2),o=n[0],d=n[1],x=o.map((function(t){return(0,r.Z)(t)})),g=[],m=0;m<o.length;m++)g.push(h(o[m]));for(var b=[],v=0;v<g.length;v++)b.push(g[v].length);for(var p=[],q=0;q<g.length;q++)if(g[q].length>=1)for(var k=0;k<g[q].length;k++)p.push(g[q][k]);for(var z=function(t){return t.reduce((function(t,e){var n=e.reduce((function(t,e){return Math.max.apply(Math,[t].concat((0,r.Z)(e.qubit||[])))}),0);return Math.max(n,t)}),0)}(x),L=[],C=0;C<=z;C++)L.push(C);var w=150*o.length+300>1e3?150*o.length+300:1e3;!(150*o.length+300>1e3)||o.length,!(150*o.length+300>1e3)||o.length;var A=40*L.length+300>600?40*L.length+300:600,Z=(0,l.useState)(null),S=(0,i.Z)(Z,2),N=S[0],W=S[1];(0,l.useEffect)((function(){null!==N&&void 0!==N&&N.length&&d(N)}),[N]);var T=[{key:"1",label:"Normal",children:(0,f.jsx)(M,{delCircuit1:p,qubitLineArry:L,circuit:o,delCurcuitLenght:b})},{key:"2",label:"Simple",children:(0,f.jsx)(j,{delCircuit1:p,qubitLineArry:L,circuit:o,delCurcuitLenght:b})}];return(0,f.jsxs)("div",{style:{background:"#fff",overflowX:"scroll",overflowY:"scroll"},children:[(0,f.jsxs)("div",{style:{marginTop:20,marginLeft:20},className:"uploding",children:[(0,f.jsx)("input",{ref:t,style:{display:"none"},onChange:function(t){var e=new FileReader;e.onload=function(){try{var t=JSON.parse(e.result);W(t)}catch(n){a.ZP.error(n)}},e.readAsText(t.target.files[0])},type:"file",accept:".json"}),(0,f.jsx)(c.Z,{onClick:function(){t.current.click()},style:{marginTop:20},children:"\u5bfc\u5165\u6570\u636e(json)"}),(0,f.jsx)(c.Z,{onClick:function(){(0,s.ZP)(document.getElementById("circuit"))},style:{marginTop:20,marginLeft:10},children:"\u5bfc\u51fa\u56fe\u7247"}),(0,f.jsx)(c.Z,{onClick:function(){var t=JSON.stringify(o),e=new Blob([t],{type:"application/json"}),n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download="circuit.json",r.click()},style:{marginTop:20,marginLeft:10},children:"\u5bfc\u51fa\u6570\u636e(json)"})]}),(0,f.jsx)("div",{style:{background:"#fff",width:w,height:A,marginTop:50,marginLeft:50},className:"svgConten",children:(0,f.jsx)(u.Z,{defaultActiveKey:"1",items:T})})]})}}}]);
//# sourceMappingURL=771.886f7108.chunk.js.map